<html>
<head>
  <script>
    function onClick() {
    // feature detect
    if (typeof DeviceOrientationEvent.requestPermission === 'function') {
      DeviceOrientationEvent.requestPermission()
        .then(permissionState => {
          if (permissionState === 'granted') {
            window.addEventListener('deviceorientation', (e) => {
              document.getElementById("foo").innerText = "alpha:" + e.alpha.toFixed(2) + "<br>gamma:" + e.gamma.toFixed(2) + "<br>beta:" + e.beta.toFixed(2);
            });
          }
           else {
            alert("PermissionState: " + permissionState);
          }
        })
        .catch(console.error);
    } else {
      alert("You are not iPhone");
    }
  }
  </script>
  </head>
  <body>
<input type="button" onclick="onClick()">
  <div id="foo" style="font-size: 20px;"></div>
  </body>
</html>
